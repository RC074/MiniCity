(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{10:function(e,t,a){e.exports={info:"Weather_info__2Tmb7",time:"Weather_time__LiwFF",temp:"Weather_temp__1F3VN",description:"Weather_description__dmzes",card:"Weather_card__1i1vW",container:"Weather_container__8ILTM"}},14:function(e,t,a){e.exports={container:"SearchBar_container__1NLnq",search:"SearchBar_search__1uGbo",dropdownMenu:"SearchBar_dropdownMenu__3qMo6",loading:"SearchBar_loading__1H7S-"}},16:function(e,t,a){e.exports={container:"Tweets_container__3Ipdp",tweets:"Tweets_tweets__310X3"}},17:function(e,t,a){e.exports={scroll:"Popup_scroll__1GDrf",bounce:"Popup_bounce__2Dd_C",instructions:"Popup_instructions__3WWFc"}},2:function(e,t,a){e.exports={info:"Corona_info__3gTFB",time:"Corona_time__1ui7m",category:"Corona_category__3RVvf",recovered:"Corona_recovered__18hKc",confirmed:"Corona_confirmed__3v9Uv",dead:"Corona_dead__10R5f",province:"Corona_province__VEz2k",iconBox:"Corona_iconBox__SlFjF",card:"Corona_card__2xYJ3",container:"Corona_container__pKGhe"}},25:function(e,t,a){e.exports=a(38)},37:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(22),c=a.n(r),o=a(1),s=a.n(o),l=a(3),d=a(4),u=a(8),m=a(7),p=a(6),f="https://csclub.uwaterloo.ca/~r26li/MiniCity-backend/",h=function(){var e=Object(l.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=0;case 1:if(!(a<2)){e.next=17;break}return e.prev=2,e.next=5,fetch(f,{method:"POST",body:JSON.stringify(t)});case 5:return n=e.sent,e.abrupt("return",n.json());case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0),console.log("failed using url: "+f),0===a&&(f="https://flask-app-summative-backend.herokuapp.com/",console.log("retrying with url: "+f));case 14:a++,e.next=1;break;case 17:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),v=a(5),g=a(23),E=a.n(g),y=a(18),w=a.n(y),b=a(15),_=a.n(b),N=a(14),x=a.n(N),L=function(e){var t=Object(n.useState)(""),a=Object(v.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(window.location.hash),d=Object(v.a)(o,2),u=d[0],m=d[1],p=Object(n.useState)(!1),f=Object(v.a)(p,2),h=f[0],g=f[1],y=function(){var t=Object(l.a)(s.a.mark((function t(a,n,i){var r,o,l,d,u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(a),t.next=3,Object(b.geocodeByAddress)(a);case 3:return r=t.sent,t.next=6,Object(b.getLatLng)(r[0]);case 6:if(o=t.sent,l=o.lat,d=o.lng,null===i){t.next=15;break}return w.a.setApiKey("AIzaSyCXeTETZAgrj3LXbFqo7atOq4a5N-r9L0Q"),t.next=13,w.a.fromLatLng(l,d);case 13:u=t.sent,e.getData({city:i.terms[0].value,country:i.terms[i.terms.length-1].value,province:u.results[u.results.length-3].address_components[0].long_name,lat:l,lng:d});case 15:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){window.addEventListener("hashchange",(function(){m(window.location.hash)}))})),i.a.createElement("div",{style:{visibility:"#t1"===u||""===u?"initial":"hidden",opacity:"#t1"===u||""===u?1:0,transition:"visibility 0s, opacity 1s linear"}},i.a.createElement(E.a,{url:"https://maps.googleapis.com/maps/api/js?key=AIzaSyCXeTETZAgrj3LXbFqo7atOq4a5N-r9L0Q&libraries=places",onLoad:function(){g(!0)}}),h?i.a.createElement(_.a,{value:r,onChange:c,onError:function(e){return function(e){console.log(e)}(e)},onSelect:y,searchOptions:{types:["(cities)"]}},(function(e){var t=e.getInputProps,a=e.suggestions,n=e.getSuggestionItemProps,r=e.loading;return i.a.createElement("div",null,i.a.createElement("div",{className:x.a.container},i.a.createElement("input",t({placeholder:"Anywhere..."})),i.a.createElement("div",{className:x.a.search,onClick:function(){c("")}})),i.a.createElement("div",{className:x.a.dropdownMenu},r?i.a.createElement("div",{className:x.a.loading},"...loading"):null,a.map((function(e,t){var a={padding:"15px",backgroundColor:"transparent",transition:"0.2s",fontFamily:'"Inconsolata", monospace'};return"suggestionitemActive"===(e.active?"suggestionitemActive":"suggestionItem")&&(a.borderLeft="10px solid rebeccapurple",a.cursor="pointer"),0===t&&(a.paddingTop="40px"),i.a.createElement("div",Object.assign({},n(e,{style:a}),{key:t}),e.formattedSuggestion.mainText+" "+e.formattedSuggestion.secondaryText)}))))})):null)},O=a(16),j=a.n(O),S=a(24),C=i.a.memo((function(e){var t=0,a=e.data;if(0===a.length)return i.a.createElement("div",{className:j.a.container,style:{height:e.show?"600px":"0px",borderWidth:e.show?"10px":"0px"}});function n(){return(n=Object(l.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.loading(!1);case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var r=function(){++t===a.length&&function(){n.apply(this,arguments)}()};return i.a.createElement("div",{className:j.a.container,style:{height:e.show?"600px":"0px",borderWidth:e.show?"10px":"0px"}},i.a.createElement("ul",{className:j.a.tweets},a.map((function(e){return i.a.createElement("li",{key:e},i.a.createElement(S.a,{id:e,options:{align:"center",conversation:"none",theme:"dark"},onTweetLoadSuccess:function(){return r()}}))}))))})),k=a(12),T=a(10),W=a.n(T),M=function(e,t){return[-(t-window.innerHeight/2)/60,(e-window.innerWidth/2)/60,1.08]},A=function(e,t,a){return"perspective(600px) rotateX(".concat(e,"deg) rotateY(").concat(t,"deg) scale(").concat(a,")")},D=i.a.memo((function(e){function t(){return(t=Object(l.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.loading(!1);case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var a=e.weather;0!==a.length&&function(){t.apply(this,arguments)}();var n=Object(k.b)((function(){return{xys:[0,0,1],config:{mass:5,tension:300,friction:40}}})),r=Object(v.a)(n,2),c=r[0],o=r[1];return i.a.createElement("div",{className:W.a.container},i.a.createElement(k.a.div,{className:W.a.card,onMouseMove:function(e){var t=e.clientX,a=e.clientY;return o({xys:M(t,a)})},onMouseLeave:function(){return o({xys:[0,0,1]})},style:{transform:c.xys.interpolate(A)}},i.a.createElement("div",{style:{height:"300px",width:"400px",fontSize:"90px",textAlign:"center"}},i.a.createElement("div",{className:["fas fa-sun","fas fa-cloud","fas fa-cloud-showers-heavy","fas fa-poo-storm","fas fa-snowflake","fas fa-cloud-rain","fas fa-smog"][a[0]],style:{position:"relative",top:100}})),i.a.createElement("div",{className:W.a.info},i.a.createElement("div",{className:W.a.time},i.a.createElement("time",null,function(e){var t=new Date,a=t.getTime(),n=6e4*t.getTimezoneOffset(),i=new Date(a+n+1e3*e),r=i.getFullYear(),c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][i.getMonth()];return i.getDate()+" "+c+" "+r+" "+i.getHours()+":"+i.getMinutes()}(a[2]))),i.a.createElement("div",{className:W.a.temp},i.a.createElement("div",null,a[1])),i.a.createElement("div",{className:W.a.description},i.a.createElement("div",null,a[3])))))}),(function(e,t){return e.weather===t.weather})),F=a(2),B=a.n(F),I=function(e,t){return[-(t-window.innerHeight/2)/60,(e-window.innerWidth/2)/60,1.08]},R=function(e,t,a){return"perspective(600px) rotateX(".concat(e,"deg) rotateY(").concat(t,"deg) scale(").concat(a,")")},X=i.a.memo((function(e){e.data;var t=Object(k.b)((function(){return{xys:[0,0,1],config:{mass:5,tension:300,friction:40}}})),a=Object(v.a)(t,2),n=a[0],r=a[1];return i.a.createElement("div",{className:B.a.container},i.a.createElement(k.a.div,{className:B.a.card,onMouseMove:function(e){var t=e.clientX,a=e.clientY;return r({xys:I(t,a)})},onMouseLeave:function(){return r({xys:[0,0,1]})},style:{transform:n.xys.interpolate(R)}},i.a.createElement("div",{className:B.a.iconBox},i.a.createElement("div",{className:"fas fa-virus",style:{position:"relative",top:100}})),i.a.createElement("div",{className:B.a.info},i.a.createElement("div",{className:B.a.time}),i.a.createElement("div",{className:B.a.province}),i.a.createElement("div",{className:B.a.confirmed},i.a.createElement("div",{className:B.a.category,style:{fontSize:"20px"}},"Due to the covid tracker used by this app is no longer maintained and the covid situation is slowly getting better, this page will not be available at the moment")),i.a.createElement("div",{className:B.a.dead},i.a.createElement("div",{className:B.a.category})),i.a.createElement("div",{className:B.a.recovered},i.a.createElement("div",{className:B.a.category})))))}),(function(e,t){return e.data===t.data})),z=a(17),J=a.n(z),q=function(){var e=Object(n.useState)(!1),t=Object(v.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),o=Object(v.a)(c,2),s=o[0],l=o[1];return Object(n.useEffect)((function(){window.addEventListener("hashchange",(function(){l(window.location.hash)}))}),[]),i.a.createElement("div",{className:J.a.container,style:{visibility:"#t1"===s||""===s?"initial":"hidden",opacity:"#t1"===s||""===s?1:0,transition:"visibility 0s, opacity 1s linear"}},i.a.createElement("button",{onClick:function(){console.log(a),r(!a)},className:J.a.scroll,style:{bottom:a?"26.5vh":"30px",transition:a?"all 0.1s ease-in":"all 0.3s ease-in"}}),i.a.createElement("div",{className:J.a.instructions,style:{height:a?"25vh":"0",bottom:a?"0":"-30px"}},"When the app first loads, there will not be any data because the city is not yet selected. To start, search any cities in the search bar above. Once selected a city, you can now navigate to the other pages (on the left hand side) to view the city's trends, weather and covid data. The weather and covid are made in form of cards, they are some really nice animation once you hover your mouse on top of them."))},P=(a(37),function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={location:{city:null,country:null,province:null,lat:null,lng:null},tweets:[],weather:[],corona:[],initial:!0,tweetLoading:!1,weatherLoading:!1,coronaLoading:!1},e.handleData=function(){var t=Object(l.a)(s.a.mark((function t(a){var n,i,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({tweets:[],weather:[]});case 2:return e.setState({initial:!1}),e.setState({tweetLoading:!0,weatherLoading:!0}),e.setState({location:a}),t.next=7,h(a);case 7:n=t.sent,i=n.tweets,r=n.weather,e.setState({tweets:i,weather:r});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleTweetLoading=function(t){e.setState({tweetLoading:t})},e.handleWeatherLoading=function(t){e.setState({weatherLoading:t})},e.handleCoronaLoading=function(t){e.setState({coronaLoading:t})},e.TweetConditionalRender=function(){return i.a.createElement("div",null,i.a.createElement("div",{style:{display:e.state.tweetLoading||e.state.initial?"":"none"}},i.a.createElement("section",{className:"icon fa fa-twitter"},i.a.createElement("span",{className:"title"},"TREND"),i.a.createElement("div",{style:{visibility:0===e.state.tweets.length?"hidden":"visible"}},i.a.createElement("span",{className:"loader"},i.a.createElement("span",{className:"loader-inner"}))))),i.a.createElement("div",{style:{visibility:e.state.tweetLoading||e.state.initial?"hidden":"visible"}},i.a.createElement(C,{show:!e.state.tweetLoading&&!e.state.initial,loading:function(t){return e.handleTweetLoading(t)},data:e.state.tweets})))},e.WeatherConditionalRender=function(){return i.a.createElement("div",null,i.a.createElement("div",{style:{display:e.state.weatherLoading||e.state.initial?"":"none"}},i.a.createElement("section",{className:"icon fas fa-cloud-sun"},i.a.createElement("span",{className:"title"},"WEATHER"),i.a.createElement("div",{style:{visibility:e.state.weatherLoading?"visible":"hidden"}},i.a.createElement("span",{className:"loader"},i.a.createElement("span",{className:"loader-inner"}))))),i.a.createElement("div",{style:{visibility:e.state.weatherLoading||e.state.initial?"hidden":"visible"}},i.a.createElement(D,{loading:function(t){return e.handleWeatherLoading(t)},weather:e.state.weather})))},e.CoronaConditionalRender=function(){return i.a.createElement("div",null,i.a.createElement("div",{style:{display:e.state.coronaLoading||e.state.initial?"":"none"}},i.a.createElement("section",{className:"icon fas fa-virus"},i.a.createElement("span",{className:"title"},"COVID-19"),i.a.createElement("div",{style:{visibility:"visible"}},i.a.createElement("span",{className:"loader"},i.a.createElement("span",{className:"loader-inner"}))))),i.a.createElement("div",{style:{visibility:"visible"}},i.a.createElement(X,{loading:!1,data:e.state.corona})))},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"ct",id:"t1"},i.a.createElement("div",{className:"ct",id:"t2"},i.a.createElement("div",{className:"ct",id:"t3"},i.a.createElement("div",{className:"ct",id:"t4"},i.a.createElement("div",{className:"ct",id:"t5"},i.a.createElement("ul",{id:"menu"},i.a.createElement("a",{href:"#t1"},i.a.createElement("li",{className:"icon fa fa-search",id:"uno"})),i.a.createElement("a",{href:"#t2"},i.a.createElement("li",{className:"icon fas fa-cloud-sun",id:"dos"})),i.a.createElement("a",{href:"#t3"},i.a.createElement("li",{className:"icon fab fa-twitter",id:"tres"})),i.a.createElement("a",{href:"#t4"},i.a.createElement("li",{className:"icon fas fa-virus",id:"cuatro"}))),i.a.createElement("div",{className:"page",id:"p1"},i.a.createElement("section",null,i.a.createElement(q,null),i.a.createElement(L,{className:"searchBar",getData:function(t){return e.handleData(t)}}))),i.a.createElement("div",{className:"page",id:"p2"},this.WeatherConditionalRender()),i.a.createElement("div",{className:"page",id:"p3"},this.TweetConditionalRender()),i.a.createElement("div",{className:"page",id:"p4"},this.CoronaConditionalRender()))))))}}]),a}(i.a.Component));c.a.render(i.a.createElement(P,null),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.94b0b7b7.chunk.js.map